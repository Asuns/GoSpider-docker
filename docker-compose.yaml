version: '2'
services:
    redis: 
      container_name: "GoSpider-redis"
      image: redis:3.2
      ports: 
        - "8002:6379"
      volumes:
        - $HOME/mydocker/redis/data:/data
        - $HOME/mydocker/redis/conf/redis.conf:/usr/local/etc/redis/redis.conf
    mysqldb: 
      container_name: "GoSpide-mysqldb"
      image: mysql
      ports: 
        - "8003:3306"
      environment: 
        - MYSQL_ROOT_PASSWORD=123456
      volumes:
        - $HOME/mydocker/mysql/data:/var/lib/mysql
        - $HOME/mydocker/mysql/conf:/etc/mysql/conf.d
	
    golang1.8:
      container_name: "GoSpide-golang1.8"
      build: ./golang1.8
      net: "host"
      links: 
        - redis
        - mysqldb
      volumes:
        - $HOME/mydocker/go:/go		
		
